[
    {
        "namespace": "manifest",
        "types": [
            {
                "$extend": "OptionalPermission",
                "choices": [
                    {
                        "enum": [
                            "accountsFolders"
                        ],
                        "type": "string"
                    }
                ]
            }
        ]
    },
    {
        "events": [
            {
                "api_documentation_url": "https://webextension-api.thunderbird.net/en/latest/folders.html#oncreated-createdfolder",
                "description": "Fired when a folder has been created.",
                "name": "onCreated",
                "parameters": [
                    {
                        "$ref": "folders.MailFolder",
                        "name": "createdFolder"
                    }
                ],
                "support": {
                    "version_added": true
                },
                "type": "function"
            },
            {
                "api_documentation_url": "https://webextension-api.thunderbird.net/en/latest/folders.html#onrenamed-originalfolder-renamedfolder",
                "description": "Fired when a folder has been renamed.",
                "name": "onRenamed",
                "parameters": [
                    {
                        "$ref": "folders.MailFolder",
                        "name": "originalFolder"
                    },
                    {
                        "$ref": "folders.MailFolder",
                        "name": "renamedFolder"
                    }
                ],
                "support": {
                    "version_added": true
                },
                "type": "function"
            },
            {
                "api_documentation_url": "https://webextension-api.thunderbird.net/en/latest/folders.html#onmoved-originalfolder-movedfolder",
                "description": "Fired when a folder has been moved.",
                "name": "onMoved",
                "parameters": [
                    {
                        "$ref": "folders.MailFolder",
                        "name": "originalFolder"
                    },
                    {
                        "$ref": "folders.MailFolder",
                        "name": "movedFolder"
                    }
                ],
                "support": {
                    "version_added": true
                },
                "type": "function"
            },
            {
                "api_documentation_url": "https://webextension-api.thunderbird.net/en/latest/folders.html#oncopied-originalfolder-copiedfolder",
                "description": "Fired when a folder has been copied.",
                "name": "onCopied",
                "parameters": [
                    {
                        "$ref": "folders.MailFolder",
                        "name": "originalFolder"
                    },
                    {
                        "$ref": "folders.MailFolder",
                        "name": "copiedFolder"
                    }
                ],
                "support": {
                    "version_added": true
                },
                "type": "function"
            },
            {
                "api_documentation_url": "https://webextension-api.thunderbird.net/en/latest/folders.html#ondeleted-deletedfolder",
                "description": "Fired when a folder has been deleted.",
                "name": "onDeleted",
                "parameters": [
                    {
                        "$ref": "folders.MailFolder",
                        "name": "deletedFolder"
                    }
                ],
                "support": {
                    "version_added": true
                },
                "type": "function"
            },
            {
                "api_documentation_url": "https://webextension-api.thunderbird.net/en/latest/folders.html#onfolderinfochanged-folder-folderinfo",
                "description": "Fired when certain information of a folder have changed. Bursts of message count changes are collapsed to a single event.",
                "name": "onFolderInfoChanged",
                "parameters": [
                    {
                        "$ref": "folders.MailFolder",
                        "name": "folder"
                    },
                    {
                        "$ref": "folders.MailFolderInfo",
                        "name": "folderInfo"
                    }
                ],
                "support": {
                    "version_added": true
                },
                "type": "function"
            }
        ],
        "functions": [
            {
                "api_documentation_url": "https://webextension-api.thunderbird.net/en/latest/folders.html#create-parent-childname",
                "async": "callback",
                "description": "Creates a new subfolder in the specified folder or at the root of the specified account.",
                "name": "create",
                "parameters": [
                    {
                        "choices": [
                            {
                                "$ref": "folders.MailFolder"
                            },
                            {
                                "$ref": "accounts.MailAccount"
                            }
                        ],
                        "name": "parent"
                    },
                    {
                        "name": "childName",
                        "type": "string"
                    },
                    {
                        "name": "callback",
                        "optional": true,
                        "parameters": [
                            {
                                "$ref": "folders.MailFolder"
                            }
                        ],
                        "type": "function"
                    }
                ],
                "permissions": [
                    "accountsFolders"
                ],
                "support": {
                    "version_added": true
                },
                "type": "function"
            },
            {
                "api_documentation_url": "https://webextension-api.thunderbird.net/en/latest/folders.html#rename-folder-newname",
                "async": "callback",
                "description": "Renames a folder.",
                "name": "rename",
                "parameters": [
                    {
                        "$ref": "folders.MailFolder",
                        "name": "folder"
                    },
                    {
                        "name": "newName",
                        "type": "string"
                    },
                    {
                        "name": "callback",
                        "optional": true,
                        "parameters": [
                            {
                                "$ref": "folders.MailFolder"
                            }
                        ],
                        "type": "function"
                    }
                ],
                "permissions": [
                    "accountsFolders"
                ],
                "support": {
                    "version_added": true
                },
                "type": "function"
            },
            {
                "api_documentation_url": "https://webextension-api.thunderbird.net/en/latest/folders.html#move-sourcefolder-destination",
                "async": "callback",
                "description": "Moves the given <val>sourceFolder</val> into the given <val>destination</val>. Throws if the destination already contains a folder with the name of the source folder.",
                "name": "move",
                "parameters": [
                    {
                        "$ref": "folders.MailFolder",
                        "name": "sourceFolder"
                    },
                    {
                        "choices": [
                            {
                                "$ref": "folders.MailFolder"
                            },
                            {
                                "$ref": "accounts.MailAccount"
                            }
                        ],
                        "name": "destination"
                    },
                    {
                        "name": "callback",
                        "optional": true,
                        "parameters": [
                            {
                                "$ref": "folders.MailFolder"
                            }
                        ],
                        "type": "function"
                    }
                ],
                "permissions": [
                    "accountsFolders"
                ],
                "support": {
                    "version_added": true
                },
                "type": "function"
            },
            {
                "api_documentation_url": "https://webextension-api.thunderbird.net/en/latest/folders.html#copy-sourcefolder-destination",
                "async": "callback",
                "description": "Copies the given <val>sourceFolder</val> into the given <val>destination</val>. Throws if the destination already contains a folder with the name of the source folder.",
                "name": "copy",
                "parameters": [
                    {
                        "$ref": "folders.MailFolder",
                        "name": "sourceFolder"
                    },
                    {
                        "choices": [
                            {
                                "$ref": "folders.MailFolder"
                            },
                            {
                                "$ref": "accounts.MailAccount"
                            }
                        ],
                        "name": "destination"
                    },
                    {
                        "name": "callback",
                        "optional": true,
                        "parameters": [
                            {
                                "$ref": "folders.MailFolder"
                            }
                        ],
                        "type": "function"
                    }
                ],
                "permissions": [
                    "accountsFolders"
                ],
                "support": {
                    "version_added": true
                },
                "type": "function"
            },
            {
                "api_documentation_url": "https://webextension-api.thunderbird.net/en/latest/folders.html#delete-folder",
                "async": true,
                "description": "Deletes a folder.",
                "name": "delete",
                "parameters": [
                    {
                        "$ref": "folders.MailFolder",
                        "name": "folder"
                    }
                ],
                "permissions": [
                    "accountsFolders",
                    "messagesDelete"
                ],
                "support": {
                    "version_added": true
                },
                "type": "function"
            },
            {
                "api_documentation_url": "https://webextension-api.thunderbird.net/en/latest/folders.html#getfolderinfo-folder",
                "async": "callback",
                "description": "Get additional information about a mail folder.",
                "name": "getFolderInfo",
                "parameters": [
                    {
                        "$ref": "folders.MailFolder",
                        "name": "folder"
                    },
                    {
                        "name": "callback",
                        "optional": true,
                        "parameters": [
                            {
                                "$ref": "folders.MailFolderInfo"
                            }
                        ],
                        "type": "function"
                    }
                ],
                "support": {
                    "version_added": true
                },
                "type": "function"
            },
            {
                "api_documentation_url": "https://webextension-api.thunderbird.net/en/latest/folders.html#getparentfolders-folder-includesubfolders",
                "async": "callback",
                "description": "Get all parent folders as a flat ordered array. The first array entry is the direct parent.",
                "name": "getParentFolders",
                "parameters": [
                    {
                        "$ref": "folders.MailFolder",
                        "name": "folder"
                    },
                    {
                        "default": false,
                        "description": "Specifies whether the returned $(ref:folders.MailFolder) object for each parent folder should include its nested subfolders . Defaults to <value>false</value>.",
                        "name": "includeSubFolders",
                        "optional": true,
                        "type": "boolean"
                    },
                    {
                        "name": "callback",
                        "optional": true,
                        "parameters": [
                            {
                                "items": {
                                    "$ref": "folders.MailFolder"
                                },
                                "type": "array"
                            }
                        ],
                        "type": "function"
                    }
                ],
                "support": {
                    "version_added": true
                },
                "type": "function"
            },
            {
                "api_documentation_url": "https://webextension-api.thunderbird.net/en/latest/folders.html#getsubfolders-folderoraccount-includesubfolders",
                "async": "callback",
                "description": "Get the subfolders of the specified folder or account.",
                "name": "getSubFolders",
                "parameters": [
                    {
                        "choices": [
                            {
                                "$ref": "folders.MailFolder"
                            },
                            {
                                "$ref": "accounts.MailAccount"
                            }
                        ],
                        "name": "folderOrAccount"
                    },
                    {
                        "default": true,
                        "description": "Specifies whether the returned $(ref:folders.MailFolder) object for each direct subfolder should also include all its nested subfolders . Defaults to <value>true</value>.",
                        "name": "includeSubFolders",
                        "optional": true,
                        "type": "boolean"
                    },
                    {
                        "name": "callback",
                        "optional": true,
                        "parameters": [
                            {
                                "items": {
                                    "$ref": "folders.MailFolder"
                                },
                                "type": "array"
                            }
                        ],
                        "type": "function"
                    }
                ],
                "support": {
                    "version_added": true
                },
                "type": "function"
            }
        ],
        "namespace": "folders",
        "permissions": [
            "accountsRead"
        ],
        "types": [
            {
                "description": "An object describing a mail folder, as returned for example by the $(ref:folders.getParentFolders) or $(ref:folders.getSubFolders) methods, or part of a $(ref:accounts.MailAccount) object, which is returned for example by the $(ref:accounts.list) and $(ref:accounts.get) methods. The <val>subFolders</val> property is only included if requested.",
                "id": "MailFolder",
                "properties": {
                    "accountId": {
                        "description": "The account this folder belongs to.",
                        "type": "string"
                    },
                    "name": {
                        "description": "The human-friendly name of this folder.",
                        "optional": true,
                        "type": "string"
                    },
                    "path": {
                        "description": "Path to this folder in the account. Although paths look predictable, never guess a folder's path, as there are a number of reasons why it may not be what you think it is. Use $(ref:folders.getParentFolders) or $(ref:folders.getSubFolders) to obtain hierarchy information.",
                        "type": "string"
                    },
                    "subFolders": {
                        "description": "Subfolders are only included if requested. They will be returned in the same order as used in Thunderbird's folder pane.",
                        "items": {
                            "$ref": "MailFolder"
                        },
                        "optional": true,
                        "type": "array"
                    },
                    "type": {
                        "description": "The type of folder, for several common types.",
                        "enum": [
                            "inbox",
                            "drafts",
                            "sent",
                            "trash",
                            "templates",
                            "archives",
                            "junk",
                            "outbox"
                        ],
                        "optional": true,
                        "type": "string"
                    }
                },
                "type": "object"
            },
            {
                "description": "An object containing additional information about a mail folder.",
                "id": "MailFolderInfo",
                "properties": {
                    "favorite": {
                        "description": "Whether this folder is a favorite folder.",
                        "optional": true,
                        "type": "boolean"
                    },
                    "totalMessageCount": {
                        "description": "Number of messages in this folder.",
                        "optional": true,
                        "type": "integer"
                    },
                    "unreadMessageCount": {
                        "description": "Number of unread messages in this folder.",
                        "optional": true,
                        "type": "integer"
                    }
                },
                "type": "object"
            }
        ]
    }
]